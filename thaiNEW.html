<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thai Consonant Drill - Sledgehammers</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f7f6; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 380px; text-align: center; min-height: 480px; display: flex; flex-direction: column; position: relative; }
        h1 { font-size: 1.4rem; margin-top: 1rem; margin-bottom: 0.5rem; color: #333; }
        .sub-title { color: #666; margin-bottom: 1.5rem; }
        .hearts { color: #ff4d4d; font-size: 1.5rem; margin-bottom: 0.5rem; height: 35px; }
        .consonant-display { font-size: 6rem; margin: 0.2rem 0; font-weight: bold; color: #222; }
        .options-container { display: flex; flex-direction: column; gap: 8px; flex-grow: 1; }
        button { padding: 12px; border: none; border-radius: 8px; cursor: pointer; transition: 0.2s; font-size: 1rem; font-weight: 500; }
        .btn-primary { background-color: #007bff; color: white; width: 100%; }
        .btn-primary:hover { background-color: #0056b3; }
        .btn-option { background-color: #f0f2f5; color: #333; border: 1px solid #ddd; }
        .btn-option:hover:not(:disabled) { background-color: #e2e6ea; border-color: #bbb; }
        .btn-quit { background: none; color: #999; font-size: 0.85rem; margin-top: 20px; text-decoration: underline; border: none; }
        .btn-restart { background-color: #28a745; color: white; margin-top: 15px; width: 100%; }
        
        .feedback { margin-top: 1rem; font-weight: bold; min-height: 70px; }
        .correct { color: #28a745; font-size: 1.1rem; }
        .incorrect { color: #dc3545; font-size: 1.1rem; }
        .reveal-answer { color: #444; font-size: 1rem; margin-top: 6px; font-weight: normal; }
        .game-over-text { color: #dc3545; font-size: 2rem; font-weight: bold; margin-bottom: 15px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div id="start-screen" class="card">
        <h1>CSII Sledgehammers presents</h1>
        <p class="sub-title">Thai Consonants (All 44)</p>
        <button class="btn-primary" onclick="startGame()">Start Quiz</button>
    </div>

    <div id="game-screen" class="card hidden">
        <div id="hearts" class="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        <div id="consonant" class="consonant-display"></div>
        
        <div id="quiz-content">
            <div id="options" class="options-container"></div>
            <div id="feedback" class="feedback"></div>
            <button class="btn-quit" onclick="goHome()">Quit Game</button>
        </div>

        <div id="game-over-ui" class="hidden">
            <div class="game-over-text">Game Over</div>
            <div id="final-score" style="margin-bottom: 20px; color: #555;"></div>
            <button class="btn-restart" onclick="startGame()">Try Again</button>
            <button class="btn-quit" onclick="goHome()">Back to Main Menu</button>
        </div>
    </div>

    <script>
        const consonants = [
            { char: '‡∏Å', name: 'gor gai', full: '‡∏Å ‡πÑ‡∏Å‡πà' }, { char: '‡∏Ç', name: 'khor khai', full: '‡∏Ç ‡πÑ‡∏Ç‡πà' },
            { char: '‡∏É', name: 'khor khuat', full: '‡∏É ‡∏Ç‡∏ß‡∏î' }, { char: '‡∏Ñ', name: 'khor khwai', full: '‡∏Ñ ‡∏Ñ‡∏ß‡∏≤‡∏¢' },
            { char: '‡∏Ö', name: 'khor khon', full: '‡∏Ö ‡∏Ñ‡∏ô' }, { char: '‡∏Ü', name: 'khor rakhang', full: '‡∏Ü ‡∏£‡∏∞‡∏Ü‡∏±‡∏á' },
            { char: '‡∏á', name: 'ngor ngu', full: '‡∏á ‡∏á‡∏π' }, { char: '‡∏à', name: 'jor jan', full: '‡∏à ‡∏à‡∏≤‡∏ô' },
            { char: '‡∏â', name: 'chor ching', full: '‡∏â ‡∏â‡∏¥‡πà‡∏á' }, { char: '‡∏ä', name: 'chor chang', full: '‡∏ä ‡∏ä‡πâ‡∏≤‡∏á' },
            { char: '‡∏ã', name: 'sor so', full: '‡∏ã ‡πÇ‡∏ã‡πà' }, { char: '‡∏å', name: 'chor choe', full: '‡∏å ‡πÄ‡∏å‡∏≠' },
            { char: '‡∏ç', name: 'yor ying', full: '‡∏ç ‡∏´‡∏ç‡∏¥‡∏á' }, { char: '‡∏é', name: 'dor chada', full: '‡∏é ‡∏ä‡∏é‡∏≤' },
            { char: '‡∏è', name: 'tor patak', full: '‡∏è ‡∏õ‡∏è‡∏±‡∏Å' }, { char: '‡∏ê', name: 'thor than', full: '‡∏ê ‡∏ê‡∏≤‡∏ô' },
            { char: '‡∏ë', name: 'thor montho', full: '‡∏ë ‡∏°‡∏ì‡πÇ‡∏ë' }, { char: '‡∏í', name: 'thor phu-thao', full: '‡∏í ‡∏ú‡∏π‡πâ‡πÄ‡∏í‡πà‡∏≤' },
            { char: '‡∏ì', name: 'nor nen', full: '‡∏ì ‡πÄ‡∏ì‡∏£' }, { char: '‡∏î', name: 'dor dek', full: '‡∏î ‡πÄ‡∏î‡πá‡∏Å' },
            { char: '‡∏ï', name: 'tor tao', full: '‡∏ï ‡πÄ‡∏ï‡πà‡∏≤' }, { char: '‡∏ñ', name: 'thor thung', full: '‡∏ñ ‡∏ñ‡∏∏‡∏á' },
            { char: '‡∏ó', name: 'thor thahan', full: '‡∏ó ‡∏ó‡∏´‡∏≤‡∏£' }, { char: '‡∏ò', name: 'thor thong', full: '‡∏ò ‡∏ò‡∏á' },
            { char: '‡∏ô', name: 'nor nu', full: '‡∏ô ‡∏´‡∏ô‡∏π' }, { char: '‡∏ö', name: 'bor baimai', full: '‡∏ö ‡πÉ‡∏ö‡πÑ‡∏°‡πâ' },
            { char: '‡∏õ', name: 'por pla', full: '‡∏õ ‡∏õ‡∏•‡∏≤' }, { char: '‡∏ú', name: 'phor phueng', full: '‡∏ú ‡∏ú‡∏∂‡πâ‡∏á' },
            { char: '‡∏ù', name: 'for fa', full: '‡∏ù ‡∏ù‡∏≤' }, { char: '‡∏û', name: 'phor phan', full: '‡∏û ‡∏û‡∏≤‡∏ô' },
            { char: '‡∏ü', name: 'for fan', full: '‡∏ü ‡∏ü‡∏±‡∏ô' }, { char: '‡∏†', name: 'phor sam-phao', full: '‡∏† ‡∏™‡∏≥‡πÄ‡∏†‡∏≤' },
            { char: '‡∏°', name: 'mor ma', full: '‡∏° ‡∏°‡πâ‡∏≤' }, { char: '‡∏¢', name: 'yor yak', full: '‡∏¢ ‡∏¢‡∏±‡∏Å‡∏©‡πå' },
            { char: '‡∏£', name: 'ror ruea', full: '‡∏£ ‡πÄ‡∏£‡∏∑‡∏≠' }, { char: '‡∏•', name: 'lor ling', full: '‡∏• ‡∏•‡∏¥‡∏á' },
            { char: '‡∏ß', name: 'wor waen', full: '‡∏ß ‡πÅ‡∏´‡∏ß‡∏ô' }, { char: '‡∏®', name: 'sor sala', full: '‡∏® ‡∏®‡∏≤‡∏•‡∏≤' },
            { char: '‡∏©', name: 'sor rue-si', full: '‡∏© ‡∏§‡πÖ‡∏©‡∏µ' }, { char: '‡∏™', name: 'sor suea', full: '‡∏™ ‡πÄ‡∏™‡∏∑‡∏≠' },
            { char: '‡∏´', name: 'hor hip', full: '‡∏´ ‡∏´‡∏µ‡∏ö' }, { char: '‡∏¨', name: 'lor chu-la', full: '‡∏¨ ‡∏à‡∏∏‡∏¨‡∏≤' },
            { char: '‡∏≠', name: 'or ang', full: '‡∏≠ ‡∏≠‡πà‡∏≤‡∏á' }, { char: '‡∏Æ', name: 'hor nok-huk', full: '‡∏Æ ‡∏ô‡∏Å‡∏Æ‡∏π‡∏Å' }
        ];

        let currentQuestion = {};
        let lives = 3;
        let score = 0;
        let isAnswering = true;

        function startGame() {
            lives = 3;
            score = 0;
            isAnswering = true;
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            document.getElementById('quiz-content').classList.remove('hidden');
            document.getElementById('game-over-ui').classList.add('hidden');
            nextQuestion();
        }

        function goHome() {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('start-screen').classList.remove('hidden');
        }

        function updateHearts() {
            document.getElementById('hearts').innerText = lives > 0 ? '‚ù§Ô∏è'.repeat(lives) : 'üñ§üñ§üñ§';
        }

        function nextQuestion() {
            if (lives <= 0) return;
            isAnswering = true;
            document.getElementById('feedback').innerHTML = '';
            updateHearts();

            currentQuestion = consonants[Math.floor(Math.random() * consonants.length)];
            document.getElementById('consonant').innerText = currentQuestion.char;

            let options = [currentQuestion];
            while (options.length < 3) {
                let randomOption = consonants[Math.floor(Math.random() * consonants.length)];
                if (!options.find(o => o.char === randomOption.char)) options.push(randomOption);
            }
            options.sort(() => Math.random() - 0.5);

            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'btn-option';
                btn.innerText = opt.name;
                btn.onclick = () => checkAnswer(opt);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(selected) {
            if (!isAnswering) return;
            isAnswering = false;

            const feedbackDiv = document.getElementById('feedback');
            const buttons = document.querySelectorAll('.btn-option');
            buttons.forEach(b => b.disabled = true);

            if (selected.char === currentQuestion.char) {
                score++;
                feedbackDiv.innerHTML = `<div class="correct">‚úì Correct</div><div class="reveal-answer">${currentQuestion.full}</div>`;
                setTimeout(nextQuestion, 1200);
            } else {
                lives--;
                updateHearts();
                feedbackDiv.innerHTML = `<div class="incorrect">‚úó Incorrect</div><div class="reveal-answer">Correct: ${currentQuestion.full} (${currentQuestion.name})</div>`;
                if (lives <= 0) {
                    setTimeout(showGameOver, 2000);
                } else {
                    setTimeout(nextQuestion, 2000);
                }
            }
        }

        function showGameOver() {
            document.getElementById('quiz-content').classList.add('hidden');
            document.getElementById('game-over-ui').classList.remove('hidden');
            document.getElementById('final-score').innerText = `You correctly identified ${score} consonants!`;
        }
    </script>
</body>
</html>