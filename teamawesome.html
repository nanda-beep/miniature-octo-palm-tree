<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thai Consonant Drill</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --border:#e7e7ee;
      --text:#111318;
      --muted:#6b7280;
      --btn:#e9ecef;
      --btnText:#2b2f36;
      --ok:#1f8a3b;
      --bad:#d13b3b;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex;
      min-height:100vh;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .card{
      width: 380px;
      max-width: 92vw;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      box-shadow: 0 12px 30px rgba(17,19,24,.08);
      padding:18px 18px 16px;
    }
    .center{ text-align:center; }
    .hearts{
      font-size:16px;
      letter-spacing:2px;
      margin:2px 0 10px;
      user-select:none;
    }
    .title{
      font-weight:700;
      margin:0;
      font-size:16px;
    }
    .subtitle{
      margin:4px 0 14px;
      color:var(--muted);
      font-size:13px;
    }
    .big{
      font-size:86px;
      line-height:1;
      margin:10px 0 14px;
      font-weight:700;
    }
    .btnPrimary{
      border:none;
      border-radius:8px;
      padding:10px 14px;
      background:#1976d2;
      color:white;
      font-weight:700;
      cursor:pointer;
    }
    .btnPrimary:active{ transform: scale(.99); }

    .choices{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin: 0 0 10px;
    }
    .choice{
      border:1px solid var(--border);
      background:var(--btn);
      color:var(--btnText);
      border-radius:6px;
      padding:10px 12px;
      font-size:13px;
      cursor:pointer;
      text-transform: lowercase;
    }
    .choice:disabled{
      opacity:.55;
      cursor:not-allowed;
    }
    .feedback{
      margin-top:10px;
      font-size:13px;
      min-height:44px;
    }
    .ok{ color:var(--ok); font-weight:700; }
    .bad{ color:var(--bad); font-weight:700; }
    .thaiLine{
      margin-top:6px;
      font-size:14px;
      color:#1f2937;
    }
    .gameOver{
      margin-top:6px;
      font-size:16px;
      font-weight:800;
      color:var(--bad);
    }
    .foot{
      margin-top:10px;
      font-size:11px;
      color:var(--muted);
      line-height:1.35;
    }
    .row{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:10px;
    }
    .btnGhost{
      border:1px solid var(--border);
      background:white;
      color:#111;
      border-radius:8px;
      padding:9px 12px;
      font-weight:700;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="card" id="app"></div>

<script>
/*** CHANGE THIS to your real team name (instead of Team X) ***/
const TEAM_NAME = "Team Awesome";

/**
 * 44 Thai consonants
 * - letter: consonant
 * - thai: Thai letter name (like "à¸à¸­ à¹„à¸à¹ˆ") â€” includes the common â€œà¸­â€ sound used when naming consonants
 * - roman: simple roman label shown as choices (like the PDF example: "jor jan", "wor waen")
 */
const CONSONANTS = [
  {letter:"à¸", thai:"à¸à¸­ à¹„à¸à¹ˆ", roman:"kor kai"},
  {letter:"à¸‚", thai:"à¸‚à¸­ à¹„à¸‚à¹ˆ", roman:"khor khai"},
  {letter:"à¸ƒ", thai:"à¸ƒà¸­ à¸‚à¸§à¸”", roman:"khor khuat"},
  {letter:"à¸„", thai:"à¸„à¸­ à¸„à¸§à¸²à¸¢", roman:"khor khwai"},
  {letter:"à¸…", thai:"à¸…à¸­ à¸„à¸™", roman:"khor khon"},
  {letter:"à¸†", thai:"à¸†à¸­ à¸£à¸°à¸†à¸±à¸‡", roman:"khor ra-khang"},
  {letter:"à¸‡", thai:"à¸‡à¸­ à¸‡à¸¹", roman:"ngor ngu"},
  {letter:"à¸ˆ", thai:"à¸ˆà¸­ à¸ˆà¸²à¸™", roman:"jor jan"},
  {letter:"à¸‰", thai:"à¸‰à¸­ à¸‰à¸´à¹ˆà¸‡", roman:"chor ching"},
  {letter:"à¸Š", thai:"à¸Šà¸­ à¸Šà¹‰à¸²à¸‡", roman:"chor chang"},
  {letter:"à¸‹", thai:"à¸‹à¸­ à¹‚à¸‹à¹ˆ", roman:"sor so"},
  {letter:"à¸Œ", thai:"à¸Œà¸­ à¹€à¸Œà¸­", roman:"chor choe"},
  {letter:"à¸", thai:"à¸à¸­ à¸«à¸à¸´à¸‡", roman:"yor ying"},
  {letter:"à¸Ž", thai:"à¸Žà¸­ à¸Šà¸Žà¸²", roman:"dor cha-da"},
  {letter:"à¸", thai:"à¸à¸­ à¸›à¸à¸±à¸", roman:"tor pa-tak"},
  {letter:"à¸", thai:"à¸à¸­ à¸à¸²à¸™", roman:"thor than"},
  {letter:"à¸‘", thai:"à¸‘à¸­ à¸¡à¸“à¹‚à¸‘", roman:"thor mon-tho"},
  {letter:"à¸’", thai:"à¸’à¸­ à¸œà¸¹à¹‰à¹€à¸’à¹ˆà¸²", roman:"thor phu-thao"},
  {letter:"à¸“", thai:"à¸“à¸­ à¹€à¸“à¸£", roman:"nor nen"},
  {letter:"à¸”", thai:"à¸”à¸­ à¹€à¸”à¹‡à¸", roman:"dor dek"},
  {letter:"à¸•", thai:"à¸•à¸­ à¹€à¸•à¹ˆà¸²", roman:"tor tao"},
  {letter:"à¸–", thai:"à¸–à¸­ à¸–à¸¸à¸‡", roman:"thor thung"},
  {letter:"à¸—", thai:"à¸—à¸­ à¸—à¸«à¸²à¸£", roman:"thor tha-han"},
  {letter:"à¸˜", thai:"à¸˜à¸­ à¸˜à¸‡", roman:"thor thong"},
  {letter:"à¸™", thai:"à¸™à¸­ à¸«à¸™à¸¹", roman:"nor nu"},
  {letter:"à¸š", thai:"à¸šà¸­ à¹ƒà¸šà¹„à¸¡à¹‰", roman:"bor bai-mai"},
  {letter:"à¸›", thai:"à¸›à¸­ à¸›à¸¥à¸²", roman:"por pla"},
  {letter:"à¸œ", thai:"à¸œà¸­ à¸œà¸¶à¹‰à¸‡", roman:"phor phueng"},
  {letter:"à¸", thai:"à¸à¸­ à¸à¸²", roman:"for fa"},
  {letter:"à¸ž", thai:"à¸žà¸­ à¸žà¸²à¸™", roman:"phor phan"},
  {letter:"à¸Ÿ", thai:"à¸Ÿà¸­ à¸Ÿà¸±à¸™", roman:"for fan"},
  {letter:"à¸ ", thai:"à¸ à¸­ à¸ªà¸³à¹€à¸ à¸²", roman:"phor sam-phao"},
  {letter:"à¸¡", thai:"à¸¡à¸­ à¸¡à¹‰à¸²", roman:"mor ma"},
  {letter:"à¸¢", thai:"à¸¢à¸­ à¸¢à¸±à¸à¸©à¹Œ", roman:"yor yak"},
  {letter:"à¸£", thai:"à¸£à¸­ à¹€à¸£à¸·à¸­", roman:"ror ruea"},
  {letter:"à¸¥", thai:"à¸¥à¸­ à¸¥à¸´à¸‡", roman:"lor ling"},
  {letter:"à¸§", thai:"à¸§à¸­ à¹à¸«à¸§à¸™", roman:"wor waen"},
  {letter:"à¸¨", thai:"à¸¨à¸­ à¸¨à¸²à¸¥à¸²", roman:"sor sa-la"},
  {letter:"à¸©", thai:"à¸©à¸­ à¸¤à¹…à¸©à¸µ", roman:"sor rue-si"},
  {letter:"à¸ª", thai:"à¸ªà¸­ à¹€à¸ªà¸·à¸­", roman:"sor suea"},
  {letter:"à¸«", thai:"à¸«à¸­ à¸«à¸µà¸š", roman:"hor hip"},
  {letter:"à¸¬", thai:"à¸¬à¸­ à¸ˆà¸¸à¸¬à¸²", roman:"lor chu-la"},
  {letter:"à¸­", thai:"à¸­à¸­ à¸­à¹ˆà¸²à¸‡", roman:"or ang"},
  {letter:"à¸®", thai:"à¸®à¸­ à¸™à¸à¸®à¸¹à¸", roman:"hor nok-huk"},
];

function shuffle(arr){
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function pickChoices(correct, size=3){
  const others = CONSONANTS.filter(c=>c.letter!==correct.letter);
  const sample = shuffle(others).slice(0, Math.max(0,size-1));
  return shuffle([correct, ...sample]);
}

const state = {
  screen: "home", // home | quiz | over
  hearts: 3,
  current: null,
  choices: [],
  locked: false,
  feedback: null,  // {type:"ok"|"bad", text:"...", thaiLine:"..."}
};

const app = document.getElementById("app");

function heartsStr(n){
  return "ðŸ’—".repeat(Math.max(0,n));
}

function newQuestion(){
  state.current = CONSONANTS[Math.floor(Math.random()*CONSONANTS.length)];
  state.choices = pickChoices(state.current, 3); // PDF shows 3 options
  state.locked = false;
  state.feedback = null;
}

function startQuiz(){
  state.screen = "quiz";
  state.hearts = 3;
  newQuestion();
  render();
}

function goHome(){
  state.screen = "home";
  state.hearts = 3;
  state.current = null;
  state.choices = [];
  state.locked = false;
  state.feedback = null;
  render();
}

function gameOver(){
  state.screen = "over";
  state.locked = true;
  render();
}

function onPick(roman){
  if(state.locked) return;
  state.locked = true;

  const correct = (roman === state.current.roman);

  if(correct){
    state.feedback = {
      type:"ok",
      text:"âœ“ Correct",
      thaiLine:`${state.current.letter}  ${state.current.thai}`
    };
    render();
    setTimeout(()=>{
      newQuestion();
      render();
    }, 900);
  }else{
    state.hearts -= 1;
    state.feedback = { type:"bad", text:"âœ— Incorrect", thaiLine:"" };
    render();

    setTimeout(()=>{
      if(state.hearts <= 0){
        state.hearts = 0;
        gameOver();
      } else {
        newQuestion();
        render();
      }
    }, 900);
  }
}

function renderHome(){
  app.innerHTML = `
    <div class="center">
      <div style="height:10px"></div>
      <div class="title">CSII ${escapeHtml(TEAM_NAME)} presents</div>
      <div class="subtitle">Thai Consonants</div>
      <div style="height:8px"></div>
      <button class="btnPrimary" id="startBtn">Start Quiz</button>
    </div>
  `;
  document.getElementById("startBtn").onclick = startQuiz;
}

function renderQuiz(){
  const h = heartsStr(state.hearts);
  const letter = state.current?.letter ?? "";
  const choicesHtml = state.choices.map(c => `
    <button class="choice" ${state.locked ? "disabled":""} data-roman="${escapeAttr(c.roman)}">
      ${escapeHtml(c.roman)}
    </button>
  `).join("");

  const fb = state.feedback
    ? `<div class="feedback">
         <div class="${state.feedback.type}">${escapeHtml(state.feedback.text)}</div>
         ${state.feedback.thaiLine ? `<div class="thaiLine">${escapeHtml(state.feedback.thaiLine)}</div>` : ``}
       </div>`
    : `<div class="feedback"></div>`;

  app.innerHTML = `
    <div class="center">
      <div class="hearts">${h || "&nbsp;"}</div>
      <div class="title">Thai Consonant Drill</div>
      <div class="big">${escapeHtml(letter)}</div>

      <div class="choices" id="choices">
        ${choicesHtml}
      </div>

      ${fb}

      <div class="row">
        <button class="btnGhost" id="quitBtn">Quit</button>
      </div>
    </div>
  `;

  document.getElementById("quitBtn").onclick = goHome;
  document.querySelectorAll(".choice").forEach(btn=>{
    btn.onclick = () => onPick(btn.getAttribute("data-roman"));
  });
}

function renderOver(){
  const letter = state.current?.letter ?? "â€”";
  app.innerHTML = `
    <div class="center">
      <div class="hearts">${heartsStr(state.hearts) || "&nbsp;"}</div>
      <div class="title">Thai Consonant Drill</div>
      <div class="big">${escapeHtml(letter)}</div>

      <div class="choices">
        ${state.choices.map(c => `
          <button class="choice" disabled>${escapeHtml(c.roman)}</button>
        `).join("")}
      </div>

      <div class="feedback">
        <div class="bad">âœ— Incorrect</div>
        <div class="gameOver">Game Over</div>
      </div>

      <div class="row">
        <button class="btnPrimary" id="againBtn">Play Again</button>
        <button class="btnGhost" id="homeBtn">Home</button>
      </div>
    </div>
  `;
  document.getElementById("againBtn").onclick = startQuiz;
  document.getElementById("homeBtn").onclick = goHome;
}

function render(){
  if(state.screen === "home") return renderHome();
  if(state.screen === "quiz") return renderQuiz();
  return renderOver();
}

function escapeHtml(s){
  return String(s).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
}
function escapeAttr(s){
  return escapeHtml(s).replaceAll('"',"&quot;");
}

// init
render();
</script>
</body>
</html>